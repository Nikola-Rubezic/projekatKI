import{_ as b,u as k,a as _,r as l,c as p,o as i,b as a,e as v,d as j,g as V,v as w,t as U,w as x,f as y}from"./index-XRRNbizW.js";import{C as c}from"./CustomInput-DnyOI-qu.js";const R={class:"register-container"},S={class:"role-select"},z={key:0,class:"error-message"},B={__name:"register",setup(f){const u=k(),d=_(),t=l(""),r=l(""),n=l("user"),s=l("");function g(){s.value="";const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t.value||!r.value){s.value="Sva polja moraju biti popunjena.";return}if(!m.test(t.value)){s.value="Korisničko ime mora biti validna email adresa.";return}const e=/[A-Z]/.test(r.value),o=/[0-9]/.test(r.value);if(r.value.length<4){s.value="Lozinka mora imati najmanje 4 karaktera.";return}if(!e||!o){s.value="Lozinka mora sadržati barem jedno veliko slovo i jedan broj.";return}u.dispatch("register",{username:t.value,password:r.value,role:n.value}),d.push("/login"),alert("Uspešna registracija!")}return(m,e)=>(i(),p("div",R,[e[6]||(e[6]=a("h2",null,"Registracija",-1)),a("form",{onSubmit:x(g,["prevent"])},[v(c,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value=o),label:"Korisničko ime (Email)",placeholder:"Unesi email adresu",type:"email",required:!0},null,8,["modelValue"]),v(c,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=o=>r.value=o),label:"Lozinka",type:"password",placeholder:"Unesi lozinku",required:!0},null,8,["modelValue"]),a("div",S,[e[4]||(e[4]=a("label",{for:"role-dropdown",class:"role-label"},"Uloga:",-1)),V(a("select",{id:"role-dropdown",class:"drop-down","onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o)},[...e[3]||(e[3]=[a("option",{value:"user"},"User",-1),a("option",{value:"admin"},"Admin",-1)])],512),[[w,n.value]])]),e[5]||(e[5]=a("button",{type:"submit"},"Registruj se",-1)),s.value?(i(),p("p",z,U(s.value),1)):j("",!0)],32)]))}},N=b(B,[["__scopeId","data-v-7ed3c78d"]]),h={__name:"register",setup(f){return(u,d)=>(i(),y(N))}};export{h as default};
